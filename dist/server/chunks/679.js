exports.id=679,exports.ids=[679],exports.modules={40392:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13724,23)),Promise.resolve().then(r.t.bind(r,35365,23)),Promise.resolve().then(r.t.bind(r,44900,23)),Promise.resolve().then(r.t.bind(r,44714,23)),Promise.resolve().then(r.t.bind(r,45392,23)),Promise.resolve().then(r.t.bind(r,8898,23))},93785:(e,t,r)=>{Promise.resolve().then(r.bind(r,370))},88618:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var s=r(93258);let o=s.Z.create({baseURL:"http://197.243.18.48:8088/afropureapp/api/v1"})},93579:(e,t,r)=>{"use strict";r.d(t,{Ho:()=>AuthProvider,ZP:()=>useAuth});var s=r(30784),o=r(57114),n=r(9885),i=r(34751),a=r(88618),l=r(66668);let u=(0,n.createContext)({initialLoading:!0,loginWithEmailAndPassword:()=>{},loggingIn:!1}),AuthProvider=({children:e})=>{let t=(0,o.useRouter)(),r=(0,o.usePathname)(),[d,c]=(0,n.useState)(null),[h,A]=(0,n.useState)(!0),[g,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"/login"===r&&A(!1),d?A(!1):(t.push("/login"),setTimeout(()=>{A(!1)},300))},[r]);let loginWithEmailAndPassword=async(e,r)=>{m(!0);try{let s=await a.o.post("/auth/signin",{login:e,password:r});if(console.log("response from backend : ",s),200===s.status){let e=s.data;c({login:e.login,password:e.password}),(0,l.setCookie)("accessToken",e.accessToken),localStorage.setItem("user",JSON.stringify(e)),i.Am.success("Logged in successfully"),t.push("/dashboard")}else i.Am.error("Login failed. Please check your credentials.")}catch(e){console.error("Login error:",e),i.Am.error("Login failed. Please check your credentials.")}finally{m(!1)}},logout=()=>{c(null),t.push("/login")},P=(0,n.useMemo)(()=>({loginWithEmailAndPassword,initialLoading:h,logout,loggingIn:g}),[h,d,g]);return s.jsx(u.Provider,{value:P,children:e})};function useAuth(){let e=(0,n.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},7686:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,xq:()=>useFarmersContext});var s=r(30784),o=r(9885);let n=(0,o.createContext)({}),__WEBPACK_DEFAULT_EXPORT__=e=>{let{children:t}=e,[r,i]=(0,o.useState)();return s.jsx(n.Provider,{value:{farmers:r,setFarmers:i,onClose:()=>{}},children:t})},useFarmersContext=()=>(0,o.useContext)(n)},370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>RootLayout});var s=r(30784),o=r(9885),n=r.n(o),i=r(93579),a=r(52451),l=r.n(a),u=r(98337);function WelcomePage(){return s.jsx("main",{className:"flex w-sreen h-screen items-center justify-center bg-bg",children:s.jsx("div",{className:"w-fit h-fit animate-bounce ",children:s.jsx(l(),{src:u.Z,height:200,width:200,alt:"logo"})})})}function MainLayout({children:e}){let{initialLoading:t}=(0,i.ZP)();return s.jsx("div",{children:t?s.jsx(WelcomePage,{}):e})}var d=r(7686);function RootLayout({children:e}){return s.jsx(n().Fragment,{children:s.jsx(d.ZP,{children:s.jsx(i.Ho,{children:s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx(MainLayout,{children:e})})})})})})}},79113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(95153);let o=(0,s.createProxy)(String.raw`C:\Users\mwize\OneDrive\Documents\stanley\workspace\staronly\afropure\afropure-frontend\src\app\layout.tsx`),{__esModule:n,$$typeof:i}=o,a=o.default,l=a},98337:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s={src:"/_next/static/media/afropurelogo.e49b8f02.png",height:130,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAQUlEQVR4nA3KMQ6AIBBE0b8sFzBaeP+DWWtnMSFIWJD+2dA96QVLTonEI3FsJxEdzLDxXgvUBQy1hvLOV8UE3DM/8McbczXVE5oAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}}};