(()=>{var e={};e.id=702,e.ids=[702],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},71767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(67096),a=r(16132),l=r(37284),i=r.n(l),n=r(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42918)),"C:\\Users\\mwize\\OneDrive\\Documents\\stanley\\workspace\\staronly\\afropure\\afropure-frontend\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,79113)),"C:\\Users\\mwize\\OneDrive\\Documents\\stanley\\workspace\\staronly\\afropure\\afropure-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\mwize\\OneDrive\\Documents\\stanley\\workspace\\staronly\\afropure\\afropure-frontend\\src\\app\\dashboard\\page.tsx"],u="/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},36095:(e,t,r)=>{Promise.resolve().then(r.bind(r,31097))},31097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(30784),a=r(9885);function SectionHead(e){return s.jsx("div",{className:"w-full flex  justify-between items-center ",children:(0,s.jsxs)("div",{children:[s.jsx("h6",{className:"text-black-500 font-bold",children:e.title}),e.desc&&s.jsx("p",{className:"text-black-300 font-light text-sm",children:e.desc})]})})}var l=r(52451),i=r.n(l),n=r(98337);function SideBar(){return(0,s.jsxs)("div",{children:[s.jsx("link",{rel:"stylesheet",href:"https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"}),s.jsx("div",{className:"min-h-screen flex flex-row ",children:(0,s.jsxs)("div",{className:"flex flex-col w-56 bg-white overflow-hidden",children:[s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx(i(),{src:n.Z,height:150,width:150,alt:"logo"})}),(0,s.jsxs)("ul",{className:"flex flex-col py-6",children:[s.jsx("li",{children:(0,s.jsxs)("a",{href:"#",className:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-gray-800",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400",children:s.jsx("i",{className:"bx bx-home"})}),s.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})}),s.jsx("li",{children:(0,s.jsxs)("a",{href:"#",className:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-gray-800",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400",children:s.jsx("i",{className:"bx bx-log-out"})}),s.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})})]})}let o=SideBar,c=[{title:"Fuerte",fruitNumber:0},{title:"Jumbo",fruitNumber:0},{title:"Hassa",fruitNumber:0}];var d=r(7686);let CustomError=class CustomError extends Error{constructor(e){super(e.message),this.name="CustomError",this.response=e,Object.setPrototypeOf(this,CustomError.prototype)}};var u=r(88618);function authHeader(){let e=localStorage.getItem("accessToken");return null!==e?{Authorization:`Bearer ${JSON.parse(e)}`}:{}}let get_farmers=async({page:e,size:t})=>{try{let r=`page=${e??1}&limit=${t??5}`,s=await u.o.get(`/farmers/paginated?${r}`,{headers:authHeader()});return s.data}catch(e){throw new CustomError(e)}},get_all_farmers=async()=>{try{let e=await u.o.get("/farmers/list",{headers:authHeader()});return e.data}catch(e){throw new CustomError(e)}},m=["#5160B3","#000000","#2CA900","#D29539"];function FruitRecords(e){let{farmers:t,setFarmers:r}=(0,d.xq)();return s.jsx("div",{className:"flex items-center mb-4 p-3 min-w-[250px] gap-4 border cursor-pointer rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"w-full",children:[s.jsx("p",{className:"text-gray-400",children:e.title}),s.jsx("h1",{className:"font-bold text-2xl",style:{color:m[Math.floor(Math.random()*m.length)]},children:`${e.fruitNumber}`})]})})}let x=FruitRecords;var p=r(57114);let buildQueryString=e=>{let t=[];for(let[r,s]of Object.entries(e))if(null!=s){if("string"==typeof s&&""===s.trim())continue;t.push(`${r}=${encodeURIComponent(s)}`)}return t.join("&")};var h=r(10947);let g=h.ZP.button`
  background-color: #1d5fad;
  border-radius: 4px;
  border: none;
  color: white;
  padding: 0.2rem 0.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  &:hover {
    background: #3b82f6;
  }
`,DataTable=e=>{let{columns:t,data:r,isLoading:l=!1,getData:i,first:n,last:o,pageNumber:c,totalElements:d,totalPages:u,otherParams:m,pageTracker:x}=e;(0,p.useRouter)();let h=new URLSearchParams,[f,b]=(0,a.useState)(!1),[j,v]=(0,a.useState)(Number(h.get("page"))||0),[N,y]=(0,a.useState)([]),w=((e,t)=>{let r=e-3,s=e+3+1,a=[];return(a=Array.from({length:t},(e,t)=>t).filter(e=>e&&e>=r&&e<s)).length>1&&(a[0]>1&&(a[0]>2&&a.unshift("..."),a.unshift(1)),a[a.length-1]<t&&(a[a.length-1]!==t-1&&a.push("..."),a.push(t))),a})(j,u),[_,S]=(0,a.useState)({pageNumber:h.get("page")?Number(h.get("page")):0,pageSize:h.get("size")?Number(h.get("size")):5}),updateQueryParams=e=>{buildQueryString({page:e.pageNumber.toString(),limit:e.pageSize.toString(),...m})};function onPageSizeChange(e){S(t=>({...t,pageSize:Number(e.target.value),pageNumber:0}))}function onClickNextPage(){v(j+1),S(e=>({...e,pageNumber:c+1}))}function onClickPreviousPage(){v(j-1),S(e=>({...e,pageNumber:c-1}))}let handleClick=e=>{v(e-1),S(t=>({...t,pageNumber:e-1}))};return(0,a.useEffect)(()=>{updateQueryParams({pageNumber:_.pageNumber,pageSize:_.pageSize}),i&&i({size:_.pageSize,page:_.pageNumber,...m})},[_,m]),(0,a.useEffect)(()=>{v(0),S(e=>({...e,pageNumber:0}))},[x]),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[s.jsx("div",{style:{width:"100%",overflowX:"scroll",minHeight:"10rem",minWidth:"100%"},className:"sm-transfers-table-container overflow-x-auto",children:(0,s.jsxs)("table",{className:"sm-transfers-table mt-8",children:[s.jsx("thead",{className:"rounded-sm bg-[#64748B] bg-opacity-10"}),(0,s.jsxs)("tbody",{className:"",children:[(0,s.jsxs)("tr",{className:"",children:[l&&s.jsx("td",{colSpan:t.length+2,className:"text-light px-2 py-3 text-center text-sm font-normal",children:"One moment please ..."}),!l&&r?.length===0&&s.jsx("td",{colSpan:t.length+2,className:"text-light px-2 py-3 text-center text-sm font-normal",children:"No data found"})]}),!l&&r?.map((e,r)=>s.jsxs("tr",{className:"",children:[s.jsx("td",{children:_.pageSize*(c+1)-_.pageSize+r+1}),t.filter(e=>!e.omit).map((t,a)=>s.jsx("td",{children:t.cell(e,r)},a))]},r))]})]})}),!l&&(0,s.jsxs)("div",{className:"table-pagination py-2 min-w-full overflow-auto flex justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsxs)("span",{className:"disabled min-w-20 cursor-pointer rounded-md bg-slate-500 p-2 text-slate-100  duration-100 disabled:cursor-default",children:[r.length?_.pageSize*(c+1)-_.pageSize+1:0," ","-"," ",r.length?_.pageSize*(c+1)-_.pageSize+r.length:0," ","of ",isNaN(d)?0:d]}),(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("label",{className:"",children:"Rows/Page"}),(0,s.jsxs)("select",{className:"text-dark block w-20 appearance-none rounded-md border-0 bg-slate-100 px-3 text-base font-medium capitalize placeholder-gray-500 focus:outline-none focus:ring-0 disabled:bg-slate-500 disabled:text-slate-100",onChange:onPageSizeChange,value:_.pageSize,disabled:d<=5,children:[s.jsx("option",{value:"5",children:"5"}),s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})]}),s.jsx("div",{className:"flex justify-center",children:w.map((e,t)=>"..."===e?s.jsx("p",{className:"mx-1 flex items-center",children:e},t):s.jsx("div",{className:`pagination-item ${j+1===e&&"active"}`,onClick:()=>{handleClick(e)},children:s.jsx("p",{children:e})},t))}),(0,s.jsxs)("div",{className:"flex gap-1 text-sm",children:[s.jsx(g,{disabled:n,onClick:onClickPreviousPage,children:"Previous"}),s.jsx(g,{disabled:o,onClick:onClickNextPage,children:"Next"})]})]})]})};var f=r(79067),b=r(77889),j=r.n(b);r(82306),r(42752);let excelPdfExport=({excelData:e,fileName:t})=>{let exportToExcel=async t=>{let r=j().utils.json_to_sheet(e),s=j().write({Sheets:{data:r},SheetNames:["data"]},{bookType:"xlsx",type:"array"}),a=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});f.saveAs(a,t+".xlsx")};return s.jsx("button",{className:"bg-green-600 text-center px-4 py-[4px] rounded-md text-white",onClick:e=>exportToExcel(t),children:"Excel Export"})};function Index(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(),{farmers:i,setFarmers:n}=(0,d.xq)(),getFarmers=async e=>{try{t(!0);let r=await get_farmers({...e});n(r.data)}catch(e){console.error(e)}finally{t(!1)}},getFarmersList=async()=>{try{let e=await get_all_farmers();l(e.data)}catch(e){console.error(e)}};return(0,a.useEffect)(()=>{getFarmersList()},[]),(0,s.jsxs)("div",{className:"w-full bg-[#00800010] flex",children:[s.jsx(o,{}),(0,s.jsxs)("div",{className:"m-[20px] w-full rounded-md ",children:[(0,s.jsxs)("div",{className:" bg-white w-full  relative p-[20px] rounded-md shadow-sm shadow-neutal-300",children:[s.jsx("div",{className:"flex  z-100  items-start justify-between",children:s.jsx(SectionHead,{title:"Avocado Fruits",desc:"All Fruits available"})}),s.jsx("div",{className:"flex gap-4 my-[20px] overflow-x-scroll scrollable",children:c.map((e,t)=>(0,a.createElement)(x,{...e,key:t}))})]}),s.jsx("div",{className:" bg-white p-[20px] rounded-md shadow-sm shadow-neutal-300 mt-2",children:(0,s.jsxs)("div",{className:"items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex",children:[s.jsx(SectionHead,{title:"Farmer's table",desc:"More Details about the Farmers"}),s.jsx(excelPdfExport,{excelData:r,fileName:"farmers"})]}),s.jsx(DataTable,{columns:[{title:"Farmer's Name",cell:e=>s.jsx("div",{children:`${e.surname} ${e.otherNames}`})},{title:"Phone Number",cell:e=>s.jsx("p",{children:e.phoneNumber})},{title:"District",cell:e=>s.jsx("p",{children:e.district})},{title:"Sector",cell:e=>s.jsx("p",{children:e.sector})},{title:"Village",cell:e=>s.jsx("p",{children:e.village})},{title:"Fuerte Trees",cell:e=>s.jsx("p",{children:e.jumboTrees})},{title:"Fuerte Trees Age",cell:e=>s.jsx("p",{children:e.jumboTreesAge})},{title:"Jumbo Trees",cell:e=>s.jsx("p",{children:e.jumboTrees})},{title:"Jumbo Trees Age",cell:e=>s.jsx("p",{children:e.jumboTreesAge})},{title:"Hass Trees",cell:e=>s.jsx("p",{children:e.jumboTrees})},{title:"Hass Trees Age",cell:e=>s.jsx("p",{children:e.jumboTreesAge})},{title:"Registration Date",cell:e=>s.jsx("p",{children:e.registrationDate})},{title:"Farm Size",cell:e=>s.jsx("p",{children:e.farmSize})},{title:"Farmer Code",cell:e=>s.jsx("p",{children:e.farmerCode})}],getData:(e={page:0,size:10})=>{getFarmers(e).catch(e=>{console.error(e)})},isLoading:e,data:i?.content??[],first:i?.first??!0,last:i?.last??!0,pageNumber:i?.number??0,totalElements:0,totalPages:i?.totalPages??0})]})})]})]})}let v=Index},42918:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>o});var s=r(95153);let a=(0,s.createProxy)(String.raw`C:\Users\mwize\OneDrive\Documents\stanley\workspace\staronly\afropure\afropure-frontend\src\app\dashboard\page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,o=n},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[996,323,919,679],()=>__webpack_exec__(71767));module.exports=r})();